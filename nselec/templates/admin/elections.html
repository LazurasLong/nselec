{% extends "base.html" %}
{% block heading %}
<h1 class="title is-1">Manage Elections</h1>
{% endblock %}
{% block main %}
<h2 class="title is-3">Future elections</h2>
<a class="button is-link">Create new for/against election</a> <a class="button is-link">Create new ranked election</a>
<table class="table is-hoverable">
  <thead>
    <tr>
      <th><abbr title="Election ID">EID</abbr></th>
      <th>Name</th>
      <th>Type</th>
      <th>Starts</th>
      <th>Ends</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </thead>
  <tbody>
    {% for el in future %}
      <tr>
        <td>{{ el.doc_id }}</td>
        <td>{{ el.name }}</td>
        <td>{{ el.type }}</td>
        <td><time datetime="{{el.times.start.iso}}" title="{{el.times.start.iso}}">{{ el.times.start.human }}</time></td>
        <td><time datetime="{{el.times.end.iso}}" title="{{el.times.end.iso}}">{{ el.times.end.human }}</time></td>
        <td><a href='#'><span class="icon"><i class="fas fa-edit"></i></span></a></td>
        <td><a href='#'><span class="icon"><i class="fas fa-trash"></i></span></a></td>
      </tr>
    {% endfor %}
  </tbody>
</table>
<h2 class="title is-3">Current Elections</h2>
<table class="table is-hoverable">
  <thead>
    <tr>
      <th><abbr title="Election ID">EID</abbr></th>
      <th>Name</th>
      <th>Type</th>
      <th>Started</th>
      <th>Ends</th>
      <th>Vote</th>
    </tr>
  </thead>
  <tbody>
    {% for el in present %}
      <tr>
        <td>{{ el.doc_id }}</td>
        <td>{{ el.name }}</td>
        <td>{{ el.type }}</td>
        <td><time datetime="{{el.times.start.iso}}" title="{{el.times.start.iso}}">{{ el.times.start.human }}</time></td>
        <td><time datetime="{{el.times.end.iso}}" title="{{el.times.end.iso}}">{{ el.times.end.human }}</time></td>
        <td><a href="{{url_for('vote.election', el_id=el.doc_id)}}"><span class="icon"><i class="fas fa-arrow-right"></i></span></a></td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
